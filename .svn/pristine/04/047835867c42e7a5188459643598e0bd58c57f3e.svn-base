import React, { Component } from "react";
import { withRouter } from "react-router-dom";
import { Layout, Icon, Modal, Button, message } from "antd";
import { setLocalStore } from "@utils/constants";

const logoImg = require('@images/logo.png');
const { Header } = Layout;

@withRouter
class Head extends Component {
    constructor(props, context) {
        super(props, context);
        this.state = {
            loading: false,
            icon: "arrows-alt",
            collapsed: false
        };
    }

    toggle = () => {
        this.setState({
            collapsed: !this.state.collapsed
        });
    };

    quit = () => {
        Modal.confirm({
            content: "确定退出系统吗？",
            okText: "确认",
            cancelText: "取消",
            onOk: () => {
                setLocalStore('isLogin', 0);
                this.props.history.push("/login");
            }
        });
    };
    goDevice = () => {
        this.props.history.push('/device')
    }
    render() {
        return (
            <Header className="header">
                <div className="left">
                    <img src={logoImg} alt="" />
                </div>
                <div className="right">
                    <div className="name">你好.和而泰</div>
                    <div className="school">和而泰小学</div>
                    <div className="device">设备 <span onClick={this.goDevice}>3台</span></div>
                    <div className="quit" onClick={this.quit}>退出<Icon type="export" /> </div>
                </div>
            </Header>
        );
    }
}

export default Head;
