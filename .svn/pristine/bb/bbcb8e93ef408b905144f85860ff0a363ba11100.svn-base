import React, { Component } from "react";
import { Table } from 'antd'

class VisionList extends Component {
    constructor(props) {
        super(props);
        this.state = {
            data: [
                { id: '1', checkTime: '2019-09-02', leftEye: '0.5', rightEye: '0.8', result: '屈光正常', dataSources: '设备1' }
            ]
        }
        this.columns = [
            {
                title: '序号',
                width: 80,
                render: (text, record, index) => `${index + 1}`
            },
            {
                title: '检查时间',
                dataIndex: 'checkTime',
                key: 'checkTime',
            },
            {
                title: '左眼',
                dataIndex: 'leftEye',
                key: 'leftEye',
            },
            {
                title: '右眼',
                dataIndex: 'rightEye',
                key: 'rightEye',
            },
            {
                title: '结果',
                render: (text, record) => {
                    if (record.leftEye < 0.6 || record.rightEye < 0.6) {
                        return '屈光不正'
                    } else if (record.leftEye === '' || record.rightEye === '') {
                        return '未测'
                    } else {
                        return '屈光正常'
                    }
                },
                key: 'result',
            },
            // {
            //     title: '数据来源',
            //     dataIndex: 'dataSources',
            //     key: 'dataSources',
            // }
        ]
    }

    render() {
        const { data } = this.props;
        return (
            <Table
                dataSource={data}
                columns={this.columns}
                pagination={
                    {
                        hideOnSinglePage: true,
                        // showQuickJumper: true,
                        // showSizeChanger: true,
                        total: data.length,
                        pageSize: 20,
                        defaultCurrent: 1,
                        // pageSizeOptions: ['10', '20', '30'],
                        showTotal: function (total, range) {
                            return `共 ${total} 条记录    第 ${range[0]}/${range[1]} 页`
                        }
                    }
                }
                rowKey={(r, i) => (i)} />
        );
    }
}

export default VisionList;
